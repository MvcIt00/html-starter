<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airplane Adventure</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { overflow: hidden; font-family: Arial, sans-serif; background: #87CEEB; }
      #gameCanvas { display: block; background: #87CEEB; }
      #score { position: absolute; top: 20px; left: 20px; font-size: 24px; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); z-index: 10; }
      .center-overlay { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; }
      .message { background: rgba(0,0,0,0.45); color: #fff; padding: 18px 24px; border-radius: 10px; font-size: 28px; text-align: center; box-shadow: 0 6px 20px rgba(0,0,0,0.25); white-space: pre-line; }
      .hidden { display: none; }
    </style>
</head>
<body>
  <div id="score">Distance: 0m</div>
  <div id="startOverlay" class="center-overlay"><div class="message">Press SPACE to start</div></div>
  <div id="gameOverOverlay" class="center-overlay hidden"><div id="gameOverMessage" class="message"></div></div>
  <canvas id="gameCanvas"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const startOverlay = document.getElementById('startOverlay');
    const gameOverOverlay = document.getElementById('gameOverOverlay');
    const gameOverMessage = document.getElementById('gameOverMessage');

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener('resize', resize);

    const game = {
      running: false,
      score: 0,
      scrollSpeed: 2,
      backgroundOffset: 0
    };

    const airplane = {
      x: 150,
      y: canvas.height / 2,
      velocity: 0,
      thrust: 0.3,
      gravity: 0.15,
      angle: 0,
      targetAngle: 0
    };

    const clouds = [];
    for (let i = 0; i < 8; i++) {
      clouds.push({
        x: Math.random() * canvas.width * 2,
        y: Math.random() * (canvas.height * 0.6),
        size: Math.random() * 40 + 20,
        opacity: Math.random() * 0.4 + 0.3
      });
    }

    const keys = { space: false, up: false, down: false };

    function drawSkyGradient() {
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, '#87CEEB');
      gradient.addColorStop(0.6, '#B0E0E6');
      gradient.addColorStop(1, '#E0F6FF');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
    }

    function drawMountains() {
      ctx.fillStyle = '#8B7D6B';
      const mountainHeight = canvas.height * 0.3;
      const baseY = canvas.height - 100;
      
      ctx.beginPath();
      ctx.moveTo(-game.backgroundOffset % canvas.width - 100, baseY);
      
      for (let x = -game.backgroundOffset % canvas.width - 100; x < canvas.width + 200; x += 80) {
        const peakHeight = Math.sin(x * 0.01 + game.backgroundOffset * 0.001) * mountainHeight * 0.5 + mountainHeight;
        ctx.lineTo(x + 40, baseY - peakHeight);
        ctx.lineTo(x + 80, baseY);
      }
      
      ctx.lineTo(canvas.width + 200, canvas.height);
      ctx.lineTo(-200, canvas.height);
      ctx.closePath();
      ctx.fill();

      ctx.fillStyle = '#9B8D7B';
      ctx.beginPath();
      ctx.moveTo(-game.backgroundOffset % canvas.width - 150, baseY);
      
      for (let x = -game.backgroundOffset % canvas.width - 150; x < canvas.width + 250; x += 100) {
        const peakHeight = Math.sin(x * 0.008 + game.backgroundOffset * 0.0008) * mountainHeight * 0.7 + mountainHeight * 0.6;
        ctx.lineTo(x + 50, baseY - peakHeight);
        ctx.lineTo(x + 100, baseY);
      }
      
      ctx.lineTo(canvas.width + 250, canvas.height);
      ctx.lineTo(-250, canvas.height);
      ctx.closePath();
      ctx.fill();
    }

    function drawTrees() {
      const groundY = canvas.height - 100;
      ctx.fillStyle = '#228B22';
      
      for (let x = -game.backgroundOffset % 150; x < canvas.width + 100; x += 150) {
        if (Math.sin(x * 0.01) > 0.3) {
          ctx.beginPath();
          ctx.arc(x, groundY - 30, 25, 0, Math.PI * 2);
          ctx.fill();
          
          ctx.fillStyle = '#8B4513';
          ctx.fillRect(x - 5, groundY - 30, 10, 30);
          ctx.fillStyle = '#228B22';
        }
      }
    }

    function drawGround() {
      const groundY = canvas.height - 100;
      ctx.fillStyle = '#8FBC8F';
      ctx.fillRect(0, groundY, canvas.width, 100);
      
      ctx.fillStyle = '#90EE90';
      for (let x = -game.backgroundOffset % 20; x < canvas.width; x += 20) {
        ctx.fillRect(x, groundY, 10, 5);
      }
    }

    function drawCloud(cloud) {
      ctx.save();
      ctx.globalAlpha = cloud.opacity;
      ctx.fillStyle = 'white';
      
      const x = cloud.x - game.backgroundOffset * 0.3;
      if (x < -cloud.size || x > canvas.width + cloud.size) {
        cloud.x = canvas.width + cloud.size + Math.random() * canvas.width;
        cloud.y = Math.random() * (canvas.height * 0.6);
      }
      
      for (let i = 0; i < 6; i++) {
        const offsetX = (Math.random() - 0.5) * cloud.size;
        const offsetY = (Math.random() - 0.5) * cloud.size * 0.6;
        const radius = cloud.size * (0.4 + Math.random() * 0.3);
        
        ctx.beginPath();
        ctx.arc(x + offsetX, cloud.y + offsetY, radius, 0, Math.PI * 2);
        ctx.fill();
      }
      
      ctx.restore();
    }

    function updateAirplane() {
      if (keys.space || keys.up) {
        airplane.velocity -= airplane.thrust;
        airplane.targetAngle = -0.2;
      } else {
        airplane.velocity += airplane.gravity;
        airplane.targetAngle = 0.1;
      }
      
      airplane.velocity = Math.max(-8, Math.min(6, airplane.velocity));
      airplane.y += airplane.velocity;
      airplane.angle += (airplane.targetAngle - airplane.angle) * 0.1;
      
      airplane.y = Math.max(20, Math.min(canvas.height - 120, airplane.y));
    }

    function drawAirplane() {
      ctx.save();
      ctx.translate(airplane.x, airplane.y);
      ctx.rotate(airplane.angle);
      
      ctx.fillStyle = '#e0e0e0';
      ctx.beginPath();
      ctx.ellipse(0, 0, 45, 12, 0, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.fillStyle = '#1e90ff';
      ctx.beginPath();
      ctx.ellipse(-15, -2, 8, 4, 0, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.fillStyle = '#cfcfcf';
      ctx.beginPath();
      ctx.moveTo(12, 8);
      ctx.lineTo(75, 14);
      ctx.lineTo(75, 26);
      ctx.lineTo(0, 14);
      ctx.closePath();
      ctx.fill();
      
      ctx.strokeStyle = '#b0b0b0';
      ctx.beginPath();
      ctx.moveTo(0, 14);
      ctx.lineTo(75, 20);
      ctx.stroke();
      
      ctx.fillStyle = '#cfcfcf';
      ctx.beginPath();
      ctx.moveTo(-20, -4);
      ctx.lineTo(-48, -14);
      ctx.lineTo(-38, 2);
      ctx.closePath();
      ctx.fill();
      
      ctx.beginPath();
      ctx.moveTo(-12, -12);
      ctx.lineTo(-28, -34);
      ctx.lineTo(-18, -10);
      ctx.closePath();
      ctx.fill();
      
      ctx.strokeStyle = '#444';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(20, 10);
      ctx.lineTo(20, 20);
      ctx.moveTo(60, 12);
      ctx.lineTo(60, 24);
      ctx.stroke();
      
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(20, 24, 4, 0, Math.PI * 2);
      ctx.arc(60, 28, 4, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.restore();
    }

    function checkCollisions() {
      const groundY = canvas.height - 100;
      return airplane.y >= groundY;
    }

    function loop() {
      if (!game.running) return;
      
      drawSkyGradient();
      drawMountains();
      drawTrees();
      drawGround();
      clouds.forEach(drawCloud);
      
      updateAirplane();
      drawAirplane();
      
      game.score += 0.1;
      game.backgroundOffset += game.scrollSpeed;
      scoreEl.textContent = `Distance: ${Math.floor(game.score)}m`;
      
      if (checkCollisions()) {
        endGame();
        return;
      }
      
      requestAnimationFrame(loop);
    }

    function startGame() {
      game.running = true;
      game.score = 0;
      game.backgroundOffset = 0;
      airplane.y = canvas.height / 2;
      airplane.velocity = 0;
      airplane.angle = 0;
      startOverlay.classList.add('hidden');
      loop();
    }

    function endGame() {
      game.running = false;
      gameOverMessage.textContent = `Game Over!\nDistance: ${Math.floor(game.score)}m\nPress SPACE to restart`;
      gameOverOverlay.classList.remove('hidden');
    }

    function restartGame() {
      gameOverOverlay.classList.add('hidden');
      startGame();
    }

    window.addEventListener('keydown', (e) => {
      if (e.code === 'Space') {
        e.preventDefault();
        keys.space = true;
        
        if (!game.running && startOverlay.classList.contains('hidden')) {
          restartGame();
        } else if (!game.running) {
          startGame();
        }
      }
      if (e.code === 'ArrowUp') {
        e.preventDefault();
        keys.up = true;
      }
      if (e.code === 'ArrowDown') {
        e.preventDefault();
        keys.down = true;
      }
    });

    window.addEventListener('keyup', (e) => {
      if (e.code === 'Space') keys.space = false;
      if (e.code === 'ArrowUp') keys.up = false;
      if (e.code === 'ArrowDown') keys.down = false;
    });

    resize();
  </script>
</body>
</html>
